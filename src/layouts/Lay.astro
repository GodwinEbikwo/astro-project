---
import Slogo from '../components/Slogo.astro';

export interface Props {
  title: string;
}
const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <meta name='generator' content={Astro.generator} />
    <meta
      name='description'
      content='A creative studio that does fucking good work, based out from Nigeria'
    />
    <title>{`${title} | Studio Represent`}</title>
    <link rel='preconnect' href='https://fonts.googleapis.com' />
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin />
    <link
      href='https://fonts.googleapis.com/css2?family=DM+Sans&display=swap'
      rel='stylesheet'
    />
  </head>
  <body>
    <main class='site__root'>
      <slot />
      <div class='site__bg'></div>
      <div class='logo__wrapper'>
        <div class='w-full relative overflow-hidden col'>
          <Slogo />
        </div>
      </div>

      <style lang='scss' is:global>
        *,
        *::before,
        *::after {
          box-sizing: border-box;
        }

        :root {
          --px: 1.5rem;
          --py: 1.5rem;
          --bg: ##f1ede8;
          --fg: #120902;
          --siteBg: #0a0a00;
          --font: 'DM Sans', system-ui, sans-serif;
        }

        html,
        body,
        div,
        span,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        p,
        blockquote,
        pre,
        a,
        abbr,
        acronym,
        address,
        big,
        cite,
        code,
        del,
        dfn,
        em,
        img,
        center,
        dl,
        dt,
        dd,
        ol,
        ul,
        li,
        article,
        aside,
        canvas,
        details,
        embed,
        figure,
        figcaption,
        footer,
        header,
        hgroup,
        menu,
        nav,
        output,
        ruby,
        section,
        summary,
        time,
        mark,
        audio,
        video {
          margin: 0;
          padding: 0;
          border: 0;
          font-size: 100%;
          font: inherit;
          vertical-align: baseline;
        }

        html {
          scroll-behavior: initial;
        }

        html,
        body {
          width: 100%;
          min-height: 100%;
        }

        a {
          text-decoration: inherit;
          color: inherit;
          background-color: transparent;
          cursor: pointer;
        }

        a:focus,
        button:focus {
          outline: none;
        }

        a:focus-visible,
        button:focus-visible {
          outline: 2px solid #eee;
          outline-offset: 3px;
        }

        body {
          width: 100%;
          color: var(--fg);
          font-size: 15px;
          background-color: var(--bg);
          font-family: var(--font);
          -webkit-font-smoothing: antialiased;
          text-rendering: optimizeLegibility;
          font-variant-ligatures: contextual common-ligatures;
          font-feature-settings: 'kern' 1, 'liga' 1, 'calt' 1;
        }

        ul,
        li {
          margin: 0;
          padding: 0;
          display: block;
          list-style: none;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
          font-size: inherit;
          font-family: inherit;
          font-weight: inherit;
        }

        .site__root {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          overflow: hidden;
          height: 100vh;
          height: calc(var(--vh, 1vh) * 100);
        }

        .site__bg {
          position: absolute;
          top: 0;
          left: 0;
          height: 100%;
          width: 100%;
          background-color: var(--siteBg);
        }

        .logo__wrapper {
          position: absolute;
          bottom: 0;
          left: 0;
          padding: 0.2rem;
          width: 100%;
          overflow: hidden;
        }

        .site__logo {
          display: block;
          width: 100%;
          height: auto;
        }

        .w-full {
          width: 100%;
        }

        .h-full {
          height: 100%;
        }

        .line {
          overflow: hidden;
          font-kerning: none;
        }

        .block {
          display: block;
        }

        .inline-block {
          display: inline-block;
        }

        .overflow-hidden {
          overflow: hidden;
        }

        .relative {
          position: relative;
        }

        .link {
          cursor: pointer;
          position: relative;
          white-space: nowrap;
        }

        .link::before,
        .link::after {
          position: absolute;
          width: 100%;
          height: 1px;
          background: currentColor;
          top: 100%;
          left: 0;
          pointer-events: none;
        }

        .link::before {
          content: '';
        }

        .link--metis {
          text-transform: inherit;
        }

        .link--metis::before {
          transform-origin: 100% 50%;
          transform: scale3d(0, 1, 1);
          transition: transform 0.5s;
        }

        .link--metis:hover::before {
          transform-origin: 0% 50%;
          transform: scale3d(1, 1, 1);
        }

        .flex {
          display: flex;

          &.gap {
            gap: 2em;
          }

          &.ai {
            align-items: center;
          }

          &.jc {
            justify-content: center;
          }

          &.flex-column {
            flex-direction: column;
          }

          &.flex-row {
            flex-direction: row;
          }

          &.space-between {
            justify-content: space-between;
            transform: translate(0%, -110%) translate3d(0px, 0px 0px);
          }
        }
      </style>

      <script>
        import Lenis from '@studio-freight/lenis';
        import { timeline, stagger } from 'motion';

        const lenis = new Lenis({
          duration: 1,
          easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), // https://www.desmos.com/calculator/brs54l4xou
          direction: 'vertical',
          smooth: true,
          smoothTouch: false,
          touchMultiplier: 2,
          infinite: false,
        });

        function raf(time) {
          lenis.raf(time);
          requestAnimationFrame(raf);
        }

        requestAnimationFrame(raf);

        const vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);

        window.addEventListener('resize', () => {
          const vh = window.innerHeight * 0.01;
          document.documentElement.style.setProperty('--vh', `${vh}px`);
        });

        let coverBg = document.querySelector('.site__bg');
        let covermASK = document.querySelector('.logo__wrapper');
        let coverLogo = document.querySelector('.site__logo');
        let ocontainer = document.querySelector('.h__container');
        let socialLinks = document.querySelectorAll('.social__links');
        let alert = document.querySelector('.h__ls');
        let listItem = document.querySelectorAll('.list__item');
        let firstItem = document.querySelector('.h__sd');

        timeline([
          [
            coverLogo,
            {
              y: ['110%', '0%'],
            },
            { duration: 1.2, easing: [0.85, 0, 0.15, 1] },
          ],
          [
            covermASK,
            {
              y: ['-350px', '0px'],
              scale: [0.25, 0.98],
              willChange: 'transform',
            },
            { duration: 1.1, easing: [0.85, 0, 0.15, 1] },
          ],
          [
            coverBg,
            {
              transform: 'translateY(-100%) translate3d(0px, 0px, 0px)',
            },
            {
              at: '-1.05',
              duration: 1,
              easing: [0.85, 0, 0.15, 1],
            },
          ],
          [
            ocontainer,
            { opacity: [0, 1] },
            {
              at: '-0.9',
              duration: 1,
            },
          ],
          [
            firstItem,
            {
              y: ['110%', '0%'],
            },
            {
              at: '-0.5',
              duration: 0.8,
            },
          ],
          [
            listItem,
            {
              y: ['110%', '0%'],
            },
            {
              at: '-0.45',
              duration: 0.8,
              delay: stagger(0.05),
            },
          ],
          [
            alert,
            {
              y: ['110%', '0%'],
            },
            {
              at: '-0.35',
              duration: 0.8,
            },
          ],
          [
            socialLinks,
            {
              y: ['110%', '0%'],
            },
            {
              at: '-0.3',
              duration: 0.8,
              delay: stagger(0.05),
            },
          ],
        ]);
      </script>
    </main>
  </body>
</html>
